<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BWOM: Opponent Modelling Library for StarCraft AI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="NO"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BWOM
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Opponent Modelling Library for StarCraft AI </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Description"></a>
Description</h1>
<p>A C++ library written on top of BWAPI framework for Starcraft AI bots. It allows easy modelling of their opponent, inference additional information based on scouting and predict opponents future game state based using a feedforward neural network. Library is provided with all the source codes and many parts of it, such as creating own neural network can be easily extended by the programmer.</p>
<h2><a class="anchor" id="UnitDatabase"></a>
Unit Database</h2>
<p>Because BWAPI does not allow AI agents to access any unit covered by the fog of war, the library allows programmers to save all previously seen units as its special objects. It copies all necessary information and provides it, whenever there is a request by the AI module.</p>
<h2><a class="anchor" id="Inference"></a>
Inference</h2>
<p>Based on scouted information, library automatically inference additional data about an opponent. Whenever bot scouts a unit, using each race technology tree, we can deduce all requirements needed <br />
and add them into our database if they are not already in it.</p>
<h2><a class="anchor" id="Prediction"></a>
Prediction</h2>
<p>Using trained feedforward network we predict opponents units and building in near future (default configuration is 3 minutes). We pass currently scouted information into the network and it gives us back opponents numbers in the future.</p>
<h2><a class="anchor" id="thirdParty"></a>
Used third party libraries</h2>
<p>In the implementation are used two external libraries. The first one, Niels Lohmann's JSON, is used for input and output operations with files using JSON format. The second one, Tiny_dnn, is used for creating neural networks and learning them the ability to predict opponent's future unit composition</p>
<p>Niels Lohmann's JSON is written for Modern C++ and C++11 as header-only JSON class. It is very intuitive for usage, especially because it works similarly as C++11 STL containers. In fact, it even satisfies the ReversibleContainer requirement ReverSibleCont. Usage in Opponent Modelling is for saving data into files in JSON format in order to make it easy for humans to read and for machines to parse and generate.</p>
<p>Tiny_dnn is a C++14 implementation of deep learning. It is suitable for deep learning on limited computational resource, embedded systems and IoT devices. Tiny_dnn is pure C++ portable and header-only implementation which requires no installation of any additional software. It has clear understandable documentation with tutorial guide and usage explanation on various examples. All of the advantages are the reason why it has been chosen for implementing neural network in Opponent Modelling library.</p>
<h2><a class="anchor" id="GettingStarted"></a>
Getting started</h2>
<p>BWOM is avaible from <a href="https://github.com/Games-and-Simulations/bwom,">https://github.com/Games-and-Simulations/bwom,</a> it is a visual studio project avaible with all the source code that can be adjusted for programmers requirements. This tutorial helps integrating project into your bot and setting everything, such as environmental variables, for proper run.</p><ul>
<li>Download the Opponent Modelling library<ol type="1">
<li>Go to <a href="https://github.com/Games-and-Simulations/bwom">https://github.com/Games-and-Simulations/bwom</a> and download the project as a zip file.</li>
<li>Create your own custom folder and extract downloaded zip file there.</li>
</ol>
</li>
<li>Donwload Tiny_dnn library<ol type="1">
<li>Tiny_dnn can be downloaded directly from <a href="https://github.com/tiny-dnn/tiny-dnn">https://github.com/tiny-dnn/tiny-dnn</a>. Download the zip file and extract it in ./OpponentModelling/source folder.</li>
<li>Rename the extracted folder "tiny-dnn-master" to "tiny-dnn".<ol type="a">
<li>Now you should have tiny-dnn folder with extracted content in the source folder of the project.</li>
</ol>
</li>
</ol>
</li>
<li>Set environmental variables and configurate the project<ol type="1">
<li>Visual studio project uses environmental variables for BWAPI and Tiny_dnn library. You have to either adjust the paths in the project or set them in your computer.</li>
<li>to set them in your computer, follow this tutorial: <a href="https://www.java.com/en/download/help/path.xml">https://www.java.com/en/download/help/path.xml</a> and add two more variables.</li>
<li>Create new environmental variable called "BWAPI_DIR" with path to your BWAPI directory.</li>
<li>If you don't want to create new environmental variable, you can just adjust project settings and set the path directly to your BWAPI directory.</li>
<li>Now you must change paths in Configuration.h. It contains paths to the solution folder and its files. Change them to the location where you have <a class="el" href="namespaceOpponentModelling.html">OpponentModelling</a> project downloaded</li>
</ol>
</li>
<li>Build the library<ol type="1">
<li>Open the visual studio solution file (./OpponentModelling/OpponentModelling.sln) and build the library.</li>
<li>The created file OpponentModelling_r.lib or OpponentModelling_d.lib is created and located based on your build option release/debug in ./OpponentModelling/OpponentModelling/Release or ./OpponentModelling/OpponentModelling/Debug folder.</li>
</ol>
</li>
<li>Use in your project<ol type="1">
<li>Include <a class="el" href="OpponentModelling_8h.html">OpponentModelling.h</a> file located in ./OpponentModelling/source folder.</li>
<li>Link the created .lib file to your project.</li>
</ol>
</li>
</ul>
<h1><a class="anchor" id="Examples"></a>
Usage with examples</h1>
<ul>
<li>Integration with AI module<ol type="1">
<li>Create an instance of COpponentModelling class. This instance will be used for all functionalities library provides.</li>
<li>In order to initialize and update this object, you must call specific methods in BWAPI AI module methods. Their names corresponds with your module function's names. Those methods are onStart(BWAPI::Player self, BWAPI::Player enemy), onEnd(bool isWinner) onFrame(), onUnitDiscover(BWAPI::Unit unit), onUnitShow(BWAPI::Unit unit), onUnitCreate(BWAPI::Unit unit),onUnitDestroy(BWAPI::Unit unit), onUnitMorph(BWAPI::Unit unit), onUnitRenegade(BWAPI::Unit unit) and onUnitComplete(BWAPI::Unit unit). <br />
 Example:<br />
 <br />
 void onUnitDiscover(BWAPI::Unit unit){<br />
 *** <br />
  myOppModelObject.onUnitDiscover(unit); <br />
 *** <br />
 } <br />
</li>
<li>Now you can use the object methods for your bot. For accessing the unit database, use your COpponentModelling object.</li>
</ol>
</li>
<li>CreateOwnNN Creating and Training custom neural network<ol type="1">
<li>At first, make sure you set all paths in the ConfigurationFile.h to match the location where you extracted the project</li>
<li>For creating custom NN, we recommend to create a new project.</li>
<li>For creating a neural network, you need CNeuralNetworkHandler instance. It allows you to set networks parameters, number of hidden layers and number of neurons in each layer.<br />
 Example:<br />
 <br />
 unsigned int numOfHiddenLayers = 2;<br />
 std::vector &lt;unsigned int&gt;=""&gt; NumOfNeuronsVector;<br />
 <br />
 NumOfNeuronsVector.push_back(30);<br />
 NumOfNeuronsVector.push_back(25);<br />
 CNeuralNetworkHandler MyCustomNN;<br />
 MyCustomNN.setEpochs(1);<br />
 MyCustomNN.setlearningRate(0.001);<br />
 MyCustomNN.createNN(numOfHiddenLayers, NumOfNeuronsVector);<br />
 <br />
 <br />
</li>
<li>For Training and Testing the network, you need a set of parsed log files parsed using ReplayPseudoBot also located in <a href="https://github.com/Games-and-Simulations/bwom">https://github.com/Games-and-Simulations/bwom</a></li>
<li>You can start training your network by calling function:<br />
 <br />
 MyCustomNN.trainNNWithDataSet(PathToFolderWithLogFiles, PathToFileWithLogNames);<br />
 <br />
 where PathToFolderWithLogFiles represents path to the folder where you have parsed log files you want to train your NN with and PathToFileWithLogNames represents path to file with names of all log files you want to train your NN with from the directory.</li>
<li>For testing your neural network use the CNeuralNetworkHandler instance like this:<br />
 <br />
 MyCustomNN.testNN(PathToFolderWithTestLogFiles, PathToFileWithTestLogNames);<br />
 <br />
 where PathToFolderWithTestLogFiles represents path to the folder where you have parsed log files you want to test your NN with and PathToFileWithTestLogNames represents path to file with names of all test log files you want to test your NN with from the directory.</li>
<li>This process saves important information during training and testing such as MSE from each log file or results from testing in <a class="el" href="namespaceOpponentModelling.html">OpponentModelling</a> folder called NeuralNetworkInfoFiles. The trained bin network is saved in directory called binNeuralNetworks. </li>
</ol>
</li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 8 2018 03:03:24 for BWOM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
